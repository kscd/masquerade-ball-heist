[gd_scene format=3 uid="uid://dt77m0c81f1n2"]

[ext_resource type="PackedScene" uid="uid://c30c6v3tnaph1" path="res://scenes/player.tscn" id="1_0tnpc"]
[ext_resource type="Script" uid="uid://dsmhgnyq1ks6f" path="res://scripts/game.gd" id="1_vtaks"]
[ext_resource type="PackedScene" uid="uid://bhtx7d8nan6qt" path="res://scenes/collectible/collectible_sample.tscn" id="2_vtaks"]
[ext_resource type="PackedScene" uid="uid://bxlyvl12pgcvr" path="res://scenes/obstacle/obstacle.tscn" id="3_kvpfn"]
[ext_resource type="PackedScene" uid="uid://fgnq6frat0i3" path="res://scenes/seeker.tscn" id="4_dinhu"]
[ext_resource type="PackedScene" uid="uid://0dt8el4fbxxp" path="res://scenes/screens/hud.tscn" id="5_kvuet"]
[ext_resource type="Texture2D" uid="uid://sc52d2ue8ugc" path="res://sprites/mansion-reference.png" id="6_trtic"]
[ext_resource type="PackedScene" uid="uid://d17ncw2rb7hk3" path="res://scenes/spawner.tscn" id="7_ir15t"]
[ext_resource type="PackedScene" uid="uid://d25fgre156d1g" path="res://scenes/crowd_manager.tscn" id="8_ca42v"]
[ext_resource type="PackedScene" path="res://scenes/exit.tscn" id="9_rysoc"]
[ext_resource type="Texture2D" uid="uid://dlxvluvdcxs25" path="res://sprites/mansion/walls-bottom-left.png" id="11_37s47"]
[ext_resource type="Texture2D" uid="uid://cv583ukfkbnf" path="res://sprites/mansion/walls-bottom-right.png" id="12_bt5mj"]
[ext_resource type="Texture2D" uid="uid://b4e4pjug8e5xy" path="res://sprites/mansion/walls-center-bottom.png" id="13_e1j6l"]
[ext_resource type="Texture2D" uid="uid://155yqqeva7bn" path="res://sprites/mansion/walls-center-left.png" id="14_pl11u"]
[ext_resource type="Texture2D" uid="uid://brxlhu270hs6r" path="res://sprites/mansion/walls-center-right.png" id="15_bhx41"]
[ext_resource type="Texture2D" uid="uid://df6ikhubxhr7q" path="res://sprites/mansion/walls-center-top-left.png" id="16_qnb83"]
[ext_resource type="Texture2D" uid="uid://cm80xsfsa11sb" path="res://sprites/mansion/walls-center-top-right.png" id="17_sww3w"]
[ext_resource type="Texture2D" uid="uid://my7eld3mlsuq" path="res://sprites/mansion/walls-center-top.png" id="18_suyxu"]
[ext_resource type="Texture2D" uid="uid://bqmef2dqb5t3g" path="res://sprites/mansion/walls-outline.png" id="20_qouja"]
[ext_resource type="Texture2D" uid="uid://coxo7eu6m0ii4" path="res://sprites/mansion/walls-top-left.png" id="21_wljb1"]
[ext_resource type="Texture2D" uid="uid://bkupqkfnit3e1" path="res://sprites/mansion/walls-top-right.png" id="22_v2yb1"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_js0lu"]
resource_local_to_scene = true
size = Vector2(292, 222.31949)

[node name="Game" type="Node2D" unique_id=172343982]
script = ExtResource("1_vtaks")

[node name="Player" parent="." unique_id=637585576 groups=["player"] instance=ExtResource("1_0tnpc")]
position = Vector2(750, 433)
collision_layer = 3

[node name="Collectible" parent="." unique_id=1076301399 instance=ExtResource("2_vtaks")]
position = Vector2(468, 435)
collision_layer = 1
collision_mask = 1

[node name="Obstacle" parent="." unique_id=1070146420 instance=ExtResource("3_kvpfn")]
position = Vector2(1241, 410)

[node name="Seeker" parent="." unique_id=1225841198 instance=ExtResource("4_dinhu")]

[node name="HUD" parent="." unique_id=925397185 instance=ExtResource("5_kvuet")]

[node name="Background" type="Sprite2D" parent="." unique_id=1380014506]
visible = false
position = Vector2(879, -837)
texture = ExtResource("6_trtic")
offset = Vector2(1169, 1989)

[node name="Spawner" parent="." unique_id=1610160643 node_paths=PackedStringArray("spawn_poly") instance=ExtResource("7_ir15t")]
spawn_count = 200
spawn_poly = NodePath("../SpawnPolygon2D")

[node name="CrowdManager" parent="." unique_id=61583125 instance=ExtResource("8_ca42v")]

[node name="SpawnPolygon2D" type="Polygon2D" parent="." unique_id=838033360]
position = Vector2(2473.0002, -1204)
scale = Vector2(2.12, 2.12)
color = Color(1, 0, 1, 0)
offset = Vector2(-1166.5098, 567.9246)
invert_border = 0.1
polygon = PackedVector2Array(67.92468, 53.30182, 32, 1054, 1899.0568, 1064.1509, 1885, 44)

[node name="ColliderOutside" type="StaticBody2D" parent="." unique_id=1320844649]
scale = Vector2(2.13, 2.13)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="ColliderOutside" unique_id=16767773]
polygon = PackedVector2Array(-7.511737, 1057.7465, 1928.6384, 1060.5634, 2111, 1270, -154, 1255)

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="ColliderOutside" unique_id=2000424812]
position = Vector2(28.169014, 29.577463)
polygon = PackedVector2Array(9.859152, 1092.9576, 15.962439, -34.2723, -189, -203, -146, 1270)

[node name="CollisionPolygon2D4" type="CollisionPolygon2D" parent="ColliderOutside" unique_id=1957333635]
polygon = PackedVector2Array(1875.5868, 32.394363, 8.450704, 32.394363, -220, -232, 2182.1597, -252.11267)

[node name="CollisionPolygon2D5" type="CollisionPolygon2D" parent="ColliderOutside" unique_id=1916720417]
polygon = PackedVector2Array(2111, 1284, 1918, 1087, 1907.9812, 421.12674, 2156, -248)

[node name="CollisionPolygon2D6" type="CollisionPolygon2D" parent="ColliderOutside" unique_id=1212385040]
polygon = PackedVector2Array(2105.1643, 436.1502, 1874.1783, 416.9014, 1875.5868, 30.985914, 2162.9106, -292.01877)

[node name="Exit" parent="." unique_id=1118414250 instance=ExtResource("9_rysoc")]
position = Vector2(2052, 132)

[node name="CollisionShape2D" parent="Exit" index="0" unique_id=1702538791]
position = Vector2(-14, 10.5)
scale = Vector2(1, 1.003061)
shape = SubResource("RectangleShape2D_js0lu")

[node name="BlackOverlay" type="Polygon2D" parent="." unique_id=902701172]
visible = false
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(-31, 2348, 4135, 2348, 4143, -70, -69, -74)

[node name="Mansion" type="Node2D" parent="." unique_id=326218612]
position = Vector2(2048, 1153)

[node name="WallsBottomLeft" type="Sprite2D" parent="Mansion" unique_id=1305024853]
visible = false
y_sort_enabled = true
texture = ExtResource("11_37s47")

[node name="WallsBottomRight" type="Sprite2D" parent="Mansion" unique_id=270453190]
visible = false
y_sort_enabled = true
texture = ExtResource("12_bt5mj")

[node name="WallsCenterBottom" type="Sprite2D" parent="Mansion" unique_id=1702887140]
visible = false
y_sort_enabled = true
texture = ExtResource("13_e1j6l")

[node name="WallsCenterRight" type="Sprite2D" parent="Mansion" unique_id=1407396356]
visible = false
y_sort_enabled = true
texture = ExtResource("15_bhx41")

[node name="WallsCenterTopLeft" type="Sprite2D" parent="Mansion" unique_id=1152350648]
y_sort_enabled = true
position = Vector2(0, -600)
texture = ExtResource("16_qnb83")
offset = Vector2(0, 600)

[node name="WallsCenterTopRight" type="Sprite2D" parent="Mansion" unique_id=60268157]
visible = false
y_sort_enabled = true
texture = ExtResource("17_sww3w")

[node name="WallsCenterTop" type="Sprite2D" parent="Mansion" unique_id=1071103798]
visible = false
y_sort_enabled = true
texture = ExtResource("18_suyxu")

[node name="WallsOutline" type="Sprite2D" parent="Mansion" unique_id=1273451771]
visible = false
y_sort_enabled = true
texture = ExtResource("20_qouja")

[node name="WallsTopLeft" type="Sprite2D" parent="Mansion" unique_id=1860088818]
visible = false
y_sort_enabled = true
texture = ExtResource("21_wljb1")

[node name="WallsTopRight" type="Sprite2D" parent="Mansion" unique_id=1482559831]
visible = false
y_sort_enabled = true
texture = ExtResource("22_v2yb1")

[node name="WallsCenterLeft" type="Sprite2D" parent="Mansion" unique_id=1900736254]
visible = false
y_sort_enabled = true
position = Vector2(0, 850)
texture = ExtResource("14_pl11u")
offset = Vector2(0, -850)

[editable path="Exit"]
